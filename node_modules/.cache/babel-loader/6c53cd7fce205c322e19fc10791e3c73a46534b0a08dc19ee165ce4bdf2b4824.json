{"ast":null,"code":"import _objectSpread from\"/Users/philtodisco/phil-projects/DTTC/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/philtodisco/phil-projects/DTTC/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/jsx-no-target-blank */import axios from'axios';import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourDateTable=function TourDateTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tourDateData=_useState2[0],setTourDateData=_useState2[1];useEffect(function(){axios.get('https://dttc-api.herokuapp.com/tourDates',{}).then(function(res){// Format the date field of each tour date object\nvar formattedTourDates=res.data.map(function(tourDate){var date=new Date(tourDate.date);var formattedDate=date.toLocaleDateString('en-US',{timeZone:'UTC',month:'2-digit',day:'2-digit',year:'numeric'});return _objectSpread(_objectSpread({},tourDate),{},{date:formattedDate});});formattedTourDates.sort(function(a,b){return new Date(a.date)-new Date(b.date);});// sort by date\nsetTourDateData(formattedTourDates);}).catch(function(err){console.log(err);});},[]);var emptyLinkHandler=function emptyLinkHandler(event){var href=event.currentTarget.href;var innerText=event.currentTarget.innerText;console.log(innerText);if(href===window.location.href){event.preventDefault();if(innerText===\"Tickets\"){alert('Tickets are unavailable for this event');}else alert('RSVP page is unavailable for this event');}};// Return some JSX that uses tourDateData\nreturn/*#__PURE__*/_jsx(\"div\",{children:tourDateData.map(function(tourDate){return/*#__PURE__*/_jsxs(\"div\",{className:\"tour-date-container\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"date\",children:tourDate.date}),/*#__PURE__*/_jsxs(\"p\",{children:[tourDate.city,\", \",tourDate.state]}),/*#__PURE__*/_jsx(\"p\",{children:tourDate.venue}),/*#__PURE__*/_jsx(\"a\",{className:\"tour-links\",href:tourDate.rsvp,target:\"_blank\",onClick:emptyLinkHandler,children:\"RSVP\"}),/*#__PURE__*/_jsx(\"a\",{className:\"tour-links\",href:tourDate.ticket,target:\"_blank\",onClick:emptyLinkHandler,children:\"Tickets\"})]});})});};export default function Tour(){// Use TourDateTable component\nreturn/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour-date-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"TOUR DATES\"}),/*#__PURE__*/_jsx(TourDateTable,{})]})});}","map":{"version":3,"names":["axios","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TourDateTable","_useState","_useState2","_slicedToArray","tourDateData","setTourDateData","get","then","res","formattedTourDates","data","map","tourDate","date","Date","formattedDate","toLocaleDateString","timeZone","month","day","year","_objectSpread","sort","a","b","catch","err","console","log","emptyLinkHandler","event","href","currentTarget","innerText","window","location","preventDefault","alert","children","className","id","city","state","venue","rsvp","target","onClick","ticket","Tour","Fragment"],"sources":["/Users/philtodisco/phil-projects/DTTC/src/pages/Tour.js"],"sourcesContent":["/* eslint-disable react/jsx-no-target-blank */\nimport axios from 'axios'\nimport React, { useState, useEffect } from 'react'\n\nconst TourDateTable = () => {\n  const [tourDateData, setTourDateData] = useState([])\n\n  useEffect(() => {\n    axios.get('https://dttc-api.herokuapp.com/tourDates', {\n    })\n    .then(res => {\n      // Format the date field of each tour date object\n      const formattedTourDates = res.data.map(tourDate => {\n        const date = new Date(tourDate.date);\n        const formattedDate = date.toLocaleDateString('en-US', { timeZone: 'UTC', month: '2-digit', day: '2-digit', year: 'numeric' })\n        return {\n          ...tourDate,\n          date: formattedDate\n        }\n      })\n      formattedTourDates.sort((a, b) => new Date(a.date) - new Date(b.date)); // sort by date\n      setTourDateData(formattedTourDates)\n    })\n    .catch(err => {\n      console.log(err)\n    })\n  }\n  ,[])\n\n  const emptyLinkHandler = (event) => {\n    const href = event.currentTarget.href\n    const innerText = event.currentTarget.innerText\n    console.log(innerText)\n    if (href === window.location.href) {\n      event.preventDefault()\n      if (innerText === \"Tickets\") {\n        alert('Tickets are unavailable for this event')\n      } else alert('RSVP page is unavailable for this event')\n    }\n  }\n\n  // Return some JSX that uses tourDateData\n  return (\n    <div>\n      {tourDateData.map(tourDate => (\n        <div className='tour-date-container'>\n          <p id='date'>{tourDate.date}</p>\n          <p>{tourDate.city}, {tourDate.state}</p>\n          <p>{tourDate.venue}</p>\n          <a className='tour-links' href={tourDate.rsvp} target=\"_blank\" onClick={emptyLinkHandler}>RSVP</a>\n          <a className='tour-links' href={tourDate.ticket} target=\"_blank\" onClick={emptyLinkHandler}>Tickets</a>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default function Tour() {\n  // Use TourDateTable component\n  return (\n    <React.Fragment>\n    <div className='tour-date-page'>\n      <h1 className='page-title'>TOUR DATES</h1>\n      <TourDateTable />\n    </div>\n    </React.Fragment>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
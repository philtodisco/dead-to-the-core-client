{"ast":null,"code":"import _objectSpread from\"/Users/philtodisco/phil-projects/DTTC/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/philtodisco/phil-projects/DTTC/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react/jsx-no-target-blank */import axios from'axios';import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourDateTable=function TourDateTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tourDateData=_useState2[0],setTourDateData=_useState2[1];useEffect(function(){axios.get('https://dttc-api.herokuapp.com/tourDates',{}).then(function(res){var currentDate=new Date();// Filter out past dates\nvar upcomingTourDates=res.data.filter(function(tourDate){var date=new Date(tourDate.date);return date>=currentDate;});// Format the date field of each tour date object\nvar formattedTourDates=upcomingTourDates.map(function(tourDate){var date=new Date(tourDate.date);var formattedDate=date.toLocaleDateString('en-US',{timeZone:'UTC',month:'2-digit',day:'2-digit',year:'numeric'});return _objectSpread(_objectSpread({},tourDate),{},{date:formattedDate});});formattedTourDates.sort(function(a,b){return new Date(a.date)-new Date(b.date);});// sort by date\nsetTourDateData(formattedTourDates);}).catch(function(err){console.log(err);});},[]);var emptyLinkHandler=function emptyLinkHandler(event){var href=event.currentTarget.href;var innerText=event.currentTarget.innerText;console.log(innerText);if(href===window.location.href){event.preventDefault();}};// Return some JSX that uses tourDateData\nreturn/*#__PURE__*/_jsx(\"div\",{children:tourDateData.map(function(tourDate){return/*#__PURE__*/_jsxs(\"div\",{className:\"tour-date-container\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"date\",children:tourDate.date}),/*#__PURE__*/_jsxs(\"p\",{children:[tourDate.city,\", \",tourDate.state]}),/*#__PURE__*/_jsx(\"p\",{children:tourDate.venue}),/*#__PURE__*/_jsx(\"a\",{className:\"tour-links \".concat(tourDate.rsvp===\"\"&&'is-empty'),href:tourDate.rsvp,target:\"_blank\",onClick:emptyLinkHandler,children:\"RSVP\"}),/*#__PURE__*/_jsx(\"a\",{className:\"tour-links \".concat(tourDate.ticket===\"\"&&'is-empty'),href:tourDate.ticket,target:\"_blank\",onClick:emptyLinkHandler,children:\"Tickets\"})]});})});};export default function Tour(){// Use TourDateTable component\nreturn/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour-date-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"TOUR DATES\"}),/*#__PURE__*/_jsx(TourDateTable,{})]})});}","map":{"version":3,"names":["axios","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TourDateTable","_useState","_useState2","_slicedToArray","tourDateData","setTourDateData","get","then","res","currentDate","Date","upcomingTourDates","data","filter","tourDate","date","formattedTourDates","map","formattedDate","toLocaleDateString","timeZone","month","day","year","_objectSpread","sort","a","b","catch","err","console","log","emptyLinkHandler","event","href","currentTarget","innerText","window","location","preventDefault","children","className","id","city","state","venue","concat","rsvp","target","onClick","ticket","Tour","Fragment"],"sources":["/Users/philtodisco/phil-projects/DTTC/src/pages/Tour.js"],"sourcesContent":["/* eslint-disable react/jsx-no-target-blank */\nimport axios from 'axios'\nimport React, { useState, useEffect } from 'react'\n\nconst TourDateTable = () => {\n  const [tourDateData, setTourDateData] = useState([])\n\n  useEffect(() => {\n    axios.get('https://dttc-api.herokuapp.com/tourDates', {\n    })\n    .then(res => {\n      const currentDate = new Date();\n    \n        // Filter out past dates\n        const upcomingTourDates = res.data.filter(tourDate => {\n          const date = new Date(tourDate.date);\n          return date >= currentDate;\n        });\n\n      // Format the date field of each tour date object\n      const formattedTourDates = upcomingTourDates.map(tourDate => {\n        const date = new Date(tourDate.date);\n        const formattedDate = date.toLocaleDateString('en-US', { timeZone: 'UTC', month: '2-digit', day: '2-digit', year: 'numeric' })\n        return {\n          ...tourDate,\n          date: formattedDate\n        }\n      })\n      formattedTourDates.sort((a, b) => new Date(a.date) - new Date(b.date)); // sort by date\n      setTourDateData(formattedTourDates)\n    })\n    .catch(err => {\n      console.log(err)\n    })\n  }\n  ,[])\n  \n  const emptyLinkHandler = (event) => {\n    const href = event.currentTarget.href\n    const innerText = event.currentTarget.innerText\n    console.log(innerText)\n    if (href === window.location.href) {\n      event.preventDefault()\n    }\n  }\n\n  // Return some JSX that uses tourDateData\n  return (\n    <div>\n      {tourDateData.map(tourDate => ( \n        <div className='tour-date-container'>\n          <p id='date'>{tourDate.date}</p>\n          <p>{tourDate.city}, {tourDate.state}</p>\n          <p>{tourDate.venue}</p>\n          <a className={`tour-links ${tourDate.rsvp === \"\" && 'is-empty'}`} href={tourDate.rsvp} target=\"_blank\" onClick={emptyLinkHandler}>RSVP</a>\n          <a className={`tour-links ${tourDate.ticket === \"\" && 'is-empty'}`} href={tourDate.ticket} target=\"_blank\" onClick={emptyLinkHandler}>Tickets</a>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default function Tour() {\n  // Use TourDateTable component\n  return (\n    <React.Fragment>\n    <div className='tour-date-page'>\n      <h1 className='page-title'>TOUR DATES</h1>\n      <TourDateTable />\n    </div>\n    </React.Fragment>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}